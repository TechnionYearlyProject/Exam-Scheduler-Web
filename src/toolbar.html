<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="toolbar.css">
  <meta charset="UTF-8">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #343a40; padding: 0px;">
    <span class="navbar-brand mb-0 h1" style="margin-left: 20px; font-size: 22px;">מערכת שיבוץ לוח מבחנים</span>
    <div class="btn-toolbar" id="button_toolbar" role="toolbar" aria-label="Toolbar with button groups">
      <div class="btn-group">
        <button type="button" class="btn btn-secondary btn-md" style="width: 110px; margin-left: 5px;" id="scheduler_function_caller">
          <i class="fas fa-calendar-alt" style="padding-left: 5px"></i>
          שיבוץ
        </button>
      </div>
      <div class="btn-group">
          <div style="border-left:1px solid #000 ;width: 1px; height:40px; border-color: white; margin-left: 5px;"></div>
      </div>
      <div class="btn-group">
        <button type="button" class="btn btn-secondary btn-md" style="width: 110px; margin-left: 5px;" id="schedule_clear">
          <i class="fas fa-trash-alt" style="padding-left: 5px"></i>
          ניקוי
        </button>
      </div>
      <div class="btn-group">
        <button type="button" class="btn btn-secondary btn-md" style="width: 110px; margin-left: 5px;">
          <i class="fas fa-download" style="padding-left: 5px"></i>
          הורדה
        </button>
      </div>
      <div class="btn-group">
        <button type="button" class="btn btn-secondary btn-md" style="width: 110px; margin-left: 5px;">
          <i class="fas fa-upload" style="padding-left: 5px"></i>
          העלאה
        </button>
      </div>
      <div class="btn-group">
        <button type="button" class="btn btn-secondary btn-md dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="width: 110px; margin-left: 5px;">
          <i class="fas fa-truck" style="padding-left: 5px"></i>
          יצוא
        </button>
        <div class="dropdown-menu dropdown-menu-right" style="margin-top: 14px;">
          <a class="dropdown-item" href="#">בתור Excel</a>
          <a class="dropdown-item" href="#">בתור XML</a>
          <a class="dropdown-item" href="#">בתור Calendar</a>
          <a class="dropdown-item" href="#">בתור PNG</a>
        </div>
      </div>
    </div>
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a id="faculty_name" class="nav-link" href="#" style="font-weight: normal; font-size: 16px;" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <img id="faculty_image" height="45" width="45" style="border-radius: 50%; margin-right: 5px;">
        </a>
        <div class="dropdown-menu dropdown-menu-left" style="margin-top: 4px; margin-left:5px;">
          <a class="dropdown-item" href="/edit_email">שינוי מייל</a>
          <a class="dropdown-item" href="/edit_password">שינוי סיסמה</a>
          <a class="dropdown-item" href="/logout">התנתק</a>
        </div>
      </li>
    </ul>
  </nav>
  <script type="module">
      var name = localStorage.getItem('faculty_name');
      if (name == "Administrator") {
          name = "לימודי הסמכה";
          var sep = document.createElement('div');
          sep.className = "btn-group";
          sep.innerHTML = '        <div style="border-left:1px solid #000 ;width: 1px; height:40px; border-color: white; margin-left: 5px;"></div>\n';
          var mng = document.createElement('div');
          mng.className = "btn-group";
          mng.innerHTML = '<button type="button" class="btn btn-secondary btn-md dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="width: 110px; margin-left: 5px;">\n' +
              '          <i class="fas fa-pencil-alt" style="padding-left: 5px"></i>\n' +
              '          ניהול\n' +
              '        </button>\n' +
              '        <div class="dropdown-menu dropdown-menu-right" style="margin-top: 14px;)">\n' +
              '          <a class="dropdown-item" href="#" onclick="location.href=\'/faculties\'">פקולטות</a>\n' +
              '          <a class="dropdown-item" href="#">מועדים</a>\n' +
              '          <a class="dropdown-item" href="#">קורסים</a>\n' +
              '        </div>';
          document.getElementById("button_toolbar").appendChild(sep);
          document.getElementById("button_toolbar").appendChild(mng);
      } else {
          name = "הפקולטה ל" + name;
      }
      document.getElementById("faculty_name").innerHTML = name + document.getElementById("faculty_name").innerHTML;
      document.getElementById("faculty_image").src = localStorage.getItem('faculty_image');
      var clean_button = document.getElementById("schedule_clear");
      clean_button.onclick = function(){
          function clean() {
              make_calendar(new Date(localStorage.getItem('start_a')), new Date(localStorage.getItem('end_a')), "a");
              make_calendar(new Date(localStorage.getItem('start_b')), new Date(localStorage.getItem('end_b')), "b");
          }
          popup_modal("CONF", 'האם אתה בטוח שברצונך לנקות את התוכנית?', clean);
      };
  </script>
</body>
</html>
